///////// Start symbol ///////// done

Program -> StatementList $

///////// Statement ///////// underway

StatementList -> Statement StatementList
StatementList -> ə

Statement -> DeclAssignOrFuncCall 
Statement -> FuncDeclOrDef 
Statement -> Return
Statement -> Block
Statement -> ConditionalStatement
Statement -> Loop

Statement -> 'break' ';'
Statement -> 'continue' ';' // Add a way to specify which loop to continue

///////// DeclAssignOrFuncCall ///////// done

DeclAssignOrFuncCall -> identifier OptionalType OptionalAssign ';'
DeclAssignOrFuncCall -> identifier ArraySubscript AssignmentStub ';'
DeclAssignOrFuncCall -> identifier FuncCall ';'

OptionalType -> Type
OptionalType -> ə

OptionalAssign -> AssignmentStub
OptionalAssign -> ə

AssignmentStub -> '=' Expr

Block -> '{' StatementList '}'
Block -> '{' '}'

///////// Func call ///////// done

FuncCall -> '(' ArgumentList ')'

ArgumentList -> NonTupleExpr ',' ArgumentList
ArgumentList -> NonTupleExpr
ArgumentList -> ə

///////// Func Declarations and Definitions ///////// done

FuncDeclOrDef -> 'func' identifier FuncDeclParam FuncDeclType ';'
FuncDeclOrDef -> 'func' identifier FuncDeclParam FuncDeclType Block

FuncDeclParam -> '(' ParameterList ')'
FuncDeclParam -> ə

FuncDeclType -> '->' Type
FuncDeclType -> ə

ParameterList -> Parameter ',' ParameterList
ParameterList -> Parameter
ParameterList -> ə

Parameter -> identifier Type
Parameter -> Type

Return -> 'return' Expr ';'

///////// EXPRESSIONS ///////// underway

Expr -> ComparisonOpPrec Tuple
Tuple -> ',' ComparisonOpPrec Tuple
Tuple -> ə

NonTupleExpr -> ComparisonOpPrec

ComparisonOpPrec -> BinaryOpAddPrec ComparisonOpPrecR
ComparisonOpPrecR -> '==' BinaryOpAddPrec
ComparisonOpPrecR -> '!=' BinaryOpAddPrec
ComparisonOpPrecR -> '<=' BinaryOpAddPrec
ComparisonOpPrecR -> '>=' BinaryOpAddPrec
ComparisonOpPrecR -> '<' BinaryOpAddPrec
ComparisonOpPrecR -> '>' BinaryOpAddPrec
ComparisonOpPrecR -> ə

BinaryOpAddPrec -> BinaryOpMulPrec BinaryOpAddPrecR 
BinaryOpAddPrecR -> '+' BinaryOpMulPrec BinaryOpAddPrecR
BinaryOpAddPrecR -> '-' BinaryOpMulPrec BinaryOpAddPrecR
BinaryOpAddPrecR -> ə

BinaryOpMulPrec -> UnaryOp BinaryOpMulPrecR 
BinaryOpMulPrecR -> '*' UnaryOp BinaryOpMulPrecR
BinaryOpMulPrecR -> '/' UnaryOp BinaryOpMulPrecR
BinaryOpMulPrecR -> ə

UnaryOp -> '-' UnaryOp
UnaryOp -> '@' UnaryOp // Address of
UnaryOp -> '^' UnaryOp // Deref
UnaryOp -> '!' UnaryOp
UnaryOp -> ExprTerm

ExprTerm -> '(' Expr ')'
ExprTerm -> identifier FuncCall
ExprTerm -> identifier ArraySubscript
ExprTerm -> identifier AssignmentStub
ExprTerm -> identifier
ExprTerm -> number
ExprTerm -> languageConstant
ExprTerm -> '"' string '"'

languageConstant -> true
languageConstant -> false
languageConstant -> null

ArraySubscript -> '[' Expr ']'

///////// Type ///////// underway

Type -> TypeModifiers

TypeModifiers -> BaseType TypeModifiersR
TypeModifiersR -> '^' TypeModifiersR
TypeModifiersR -> '[' Expr ']' TypeModifiersR
TypeModifiersR -> '[]' TypeModifiersR
TypeModifiersR -> ə

BaseType -> identifier
BaseType -> type

type -> void
type -> u?short
type -> u?int
type -> u?long

type -> u?char
type -> bool
type -> string

type -> float
type -> double

///////// Conditional Statements ///////// done

ConditionalStatement -> 'if' Condition Statement OptionalElseblock

Condition -> '(' Expr ')'

OptionalElseblock -> 'else' Statement
OptionalElseblock -> ə

///////// Loops ///////// underway

Loop -> 'for' '(' Statement ';' Expression ';' Expression ')' Statement // C style for
Loop -> 'for' Statement // infinite loop // TODO: rename to something catchy maybe

Loop -> 'while' '(' Expr ')' Statement // c style while
Loop -> 'do' Statement 'while' '(' Expr ')' ';' // c style do while (maybe find a new way)

// V2 but may as well define now
Loop -> 'foreach' '(' identifier 'in' Expr ')' Statement // C# like (as much as I don't want that)